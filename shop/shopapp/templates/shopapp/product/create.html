{% extends "shopapp/base.html" %}

{% block title %}{% if form.instance.pk %}Редактировать{% else %}Добавить{% endif %} товар{% endblock %}

{% block main_content %}
<div class="product-form-container">
    <h1>{% if form.instance.pk %}Редактировать товар{% else %}Добавить новый товар{% endif %}</h1>
    
    <form method="post" enctype="multipart/form-data" class="product-form">
        {% csrf_token %}
        
        <div class="form-grid">
            <div class="form-group">
                <label for="{{ form.category.id_for_label }}">Категория</label>
                {{ form.category }}
                {{ form.category.errors }}
            </div>
            
            <div class="form-group">
                <label for="{{ form.category_type.id_for_label }}">Тип продукта</label>
                {{ form.category_type }}
                {{ form.category_type.errors }}
            </div>
            
            <div class="form-group">
                <label for="{{ form.name.id_for_label }}">Название</label>
                {{ form.name }}
                {{ form.name.errors }}
            </div>
            
            
            <div class="form-group">
                <label for="{{ form.price.id_for_label }}">Цена</label>
                {{ form.price }}
                {{ form.price.errors }}
            </div>
            
            <div class="form-group">
                <label for="{{ form.protein_per_serving.id_for_label }}">Белок на порцию (г)</label>
                {{ form.protein_per_serving }}
                {{ form.protein_per_serving.errors }}
            </div>
            
            <div class="form-group">
                <label for="{{ form.servings.id_for_label }}">Количество порций</label>
                {{ form.servings }}
                {{ form.servings.errors }}
            </div>
            
            <div class="form-group">
                <label for="{{ form.available.id_for_label }}">В наличии</label>
                {{ form.available }}
                {{ form.available.errors }}
            </div>
            
            <div class="form-group">
                <label for="{{ form.is_featured.id_for_label }}">Рекомендуемый</label>
                {{ form.is_featured }}
                {{ form.is_featured.errors }}
            </div>
            
            <div class="form-group full-width">
                <label for="{{ form.image.id_for_label }}">Изображение</label>
                {{ form.image }}
                {{ form.image.errors }}
            </div>
            
            <div class="form-group full-width">
                <label for="{{ form.description.id_for_label }}">Описание</label>
                {{ form.description }}
                {{ form.description.errors }}
            </div>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="submit-btn">
                {% if form.instance.pk %}Обновить{% else %}Создать{% endif %}
            </button>
            <a href="{% if form.instance.pk %}{{ form.instance.get_absolute_url }}{% else %}{% url 'shopapp:product_list' %}{% endif %}" class="cancel-btn">
                Отмена
            </a>
        </div>
    </form>
</div>
{% endblock %}